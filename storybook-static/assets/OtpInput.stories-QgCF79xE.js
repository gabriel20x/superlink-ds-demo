import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{r as v}from"./index-BlmOqGMO.js";import{c as S}from"./cva-DHafLMww.js";import{W as Z}from"./icons-DQYjEaMc.js";import{C as G}from"./Card-C4nhJzTG.js";import{B as J}from"./Button-Dk9Pwy95.js";import{u as I,t as j,z as T}from"./index-eTM_bRNx.js";import"./index-yBjzXJbu.js";const Q="_wrapper_1r5nd_15",U="_otpContainer_1r5nd_29",X="_otpInput_1r5nd_43",Y="_otpInputError_1r5nd_97",$="_otpInputSmall_1r5nd_159",ee="_otpInputLarge_1r5nd_171",te="_errorText_1r5nd_181",re="_inputFeedback_1r5nd_189",l={wrapper:Q,otpContainer:U,otpInput:X,otpInputError:Y,otpInputSmall:$,otpInputLarge:ee,errorText:te,inputFeedback:re},u=v.forwardRef(({length:t=4,value:o="",onChange:p,error:n=!1,className:i,inputFeedback:c="Invalid Code. Try Again.",variant:f="small",inputMode:m="numeric",...R},_)=>{const d=v.useRef([]);v.useEffect(()=>{d.current=d.current.slice(0,t)},[t]);const B=(s,r)=>{var C;if(r.length>1&&s===0){const P=r.slice(0,t);p(P);return}const a=o.split("");a[s]=r;const K=a.join("");p(K),r&&s<t-1&&((C=d.current[s+1])==null||C.focus())},z=(s,r)=>{var a;r.key==="Backspace"&&!o[s]&&s>0&&((a=d.current[s-1])==null||a.focus())},H={numeric:{inputMode:"numeric",pattern:"[0-9]*"},text:{inputMode:"text",pattern:"[a-zA-Z0-9]*"}};return e.jsxs("div",{className:l.wrapper,children:[e.jsx("div",{className:l.otpContainer,children:Array.from({length:t}).map((s,r)=>e.jsx("input",{ref:a=>{d.current[r]=a,_&&typeof _=="function"&&_(a)},type:"text",maxLength:1,value:(o==null?void 0:o[r])||"",onChange:a=>B(r,a.target.value),onKeyDown:a=>z(r,a),className:S(l.otpInput,n&&l.otpInputError,f==="small"&&l.otpInputSmall,f==="large"&&l.otpInputLarge,i),...H[m||"numeric"],...R},r))}),n&&c&&e.jsxs("div",{className:S(l.inputFeedback,n&&l.errorText),children:[e.jsx(Z,{width:16,height:16}),c]})]})});u.displayName="OtpInput";u.__docgenInfo={description:"",methods:[],displayName:"OtpInput",props:{length:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"4",computed:!1}},value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},error:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},inputFeedback:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Invalid Code. Try Again."',computed:!1}},variant:{required:!1,tsType:{name:"union",raw:'"small" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"large"'}]},description:"",defaultValue:{value:'"small"',computed:!1}},inputMode:{required:!1,tsType:{name:'HTMLInputElement["inputMode"]',raw:'HTMLInputElement["inputMode"]'},description:"",defaultValue:{value:'"numeric"',computed:!1}}},composes:["Omit"]};const de={title:"Components/OtpInput",component:u,parameters:{layout:"centered"},tags:["autodocs"],decorators:[t=>e.jsx(G,{className:"p-6",children:e.jsx(t,{})})]},E=T.object({otp:T.string().length(6,"OTP must be 6 digits")}),A=({variant:t="small"})=>{const{handleSubmit:o,setValue:p,watch:n,formState:{errors:i}}=I({resolver:j(E),defaultValues:{otp:""}}),c=n("otp"),f=m=>{console.log(m)};return e.jsxs("form",{onSubmit:o(f),style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsx("div",{children:e.jsx(u,{value:c,onChange:m=>p("otp",m),error:!!i.otp,variant:t})}),e.jsx(J,{type:"submit",variant:"primary",label:"Verify"})]})},g={render:()=>e.jsx(A,{variant:"small"})},x={render:()=>e.jsx(A,{variant:"large"})},ae=({length:t=6})=>{const{setValue:o,watch:p,formState:{errors:n}}=I({resolver:j(E)}),i=p("otp");return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsx(u,{value:i,onChange:c=>o("otp",c),length:t,error:!!n.otp}),n.otp&&e.jsx("p",{className:"text-red-500 text-sm mt-1 text-center",children:n.otp.message})]})},h={render:()=>e.jsx(ae,{length:8})},oe=()=>{const{setValue:t,watch:o}=I({resolver:j(E)}),p=o("otp");return e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:e.jsx(u,{value:p,onChange:n=>t("otp",n),error:!0})})},y={render:()=>e.jsx(oe,{})};var b,w,V;g.parameters={...g.parameters,docs:{...(b=g.parameters)==null?void 0:b.docs,source:{originalSource:`{
  render: () => <FormExample variant="small" />
}`,...(V=(w=g.parameters)==null?void 0:w.docs)==null?void 0:V.source}}};var L,F,O;x.parameters={...x.parameters,docs:{...(L=x.parameters)==null?void 0:L.docs,source:{originalSource:`{
  render: () => <FormExample variant="large" />
}`,...(O=(F=x.parameters)==null?void 0:F.docs)==null?void 0:O.source}}};var M,N,q;h.parameters={...h.parameters,docs:{...(M=h.parameters)==null?void 0:M.docs,source:{originalSource:`{
  render: () => <FieldExample length={8} />
}`,...(q=(N=h.parameters)==null?void 0:N.docs)==null?void 0:q.source}}};var k,W,D;y.parameters={...y.parameters,docs:{...(k=y.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: () => <ErrorExample />
}`,...(D=(W=y.parameters)==null?void 0:W.docs)==null?void 0:D.source}}};const fe=["Small","Large","WithCustomLength","WithError"];export{x as Large,g as Small,h as WithCustomLength,y as WithError,fe as __namedExportsOrder,de as default};
